<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install :: MrDox</title>
    <link rel="canonical" href="https://cppalliance.github.io/mrdox/mrdox/develop/install.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://cppalliance.github.io/mrdox">MrDox</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mrdox" data-version="develop">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">MrDox</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="usage.html">Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="config-file.html">The Configuration File</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands.html">Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="design-notes.html">Design Notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="contribute.html">Contribute</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MrDox</span>
    <span class="version">develop</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">MrDox</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">develop</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">MrDox</a></li>
    <li><a href="install.html">Install</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/cppalliance/mrdox/edit/develop/docs/modules/ROOT/pages/install.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Install</h1>
<div class="sect1">
<h2 id="_binaries"><a class="anchor" href="#_binaries"></a>Binaries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Binary packages are available from our <a href="https://github.com/cppalliance/mrdox/releases" target="_blank" rel="noopener">Release Page</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_source"><a class="anchor" href="#_source"></a>Source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For consistency, these instructions assume you are using the <code>SRC_DIR</code> variable to refer to the directory where you are going to clone MrDox and any other requirements.
Please create an environment variable with that directory and adjust it accordingly.
For instance:</p>
</div>
<div class="paragraph">
<p>Windows (Command Prompt):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-commandline hljs" data-lang="commandline">set SRC_DIR=C:\Users\%USERNAME%\src
echo %SRC_DIR%</code></pre>
</div>
</div>
<div class="paragraph">
<p>Windows (PowerShell):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$env:SRC_DIR = "C:\Users\$env:USERNAME\src"
echo $env:SRC_DIR</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix-variants (Linux, macOS, etc.):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export SRC_DIR="$HOME/src"
echo $SRC_DIR</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_requirements"><a class="anchor" href="#_requirements"></a>Requirements</h3>
<div class="sect3">
<h4 id="_llvm"><a class="anchor" href="#_llvm"></a>LLVM</h4>
<div class="paragraph">
<p>MrDox depends on a recent version of LLVM.</p>
</div>
<div class="paragraph">
<p>Here are the instructions to clone LLVM version required by this project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/llvm/llvm-project.git
cd llvm-project
git checkout 731264b0c2af7aa46bd39625202a99e06cfccff9</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here are the instructions to build and install LLVM with the settings required by this project.</p>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-commandline hljs" data-lang="commandline"># From Administrator CMD.EXE, after running vcvars64.bat
cmake -S . -B build -G "Visual Studio 17 2022" -A x64 -D LLVM_ENABLE_PROJECTS="clang;clang-tools-extra" -D CMAKE_CONFIGURATION_TYPES="Debug;RelWithDebInfo" -D LLVM_ENABLE_RTTI=ON -D CMAKE_INSTALL_PREFIX=%SRC_DIR%/llvm+clang -D LLVM_ENABLE_IDE=OFF -D LLVM_ENABLE_DIA_SDK=OFF
cd build
cmake --build . --config RelWithDebInfo -j %NUMBER_OF_PROCESSORS%
cmake --build . --config Debug -j %NUMBER_OF_PROCESSORS%
cmake --install . --prefix "%SRC_DIR%/llvm+clang/Debug" --config Debug
cmake --install . --prefix "%SRC_DIR%/llvm+clang/RelWithDebInfo" --config RelWithDebInfo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cmake -S llvm -B build -D LLVM_ENABLE_PROJECTS="clang;clang-tools-extra" -D CMAKE_BUILD_TYPE=RelWithDebInfo -D LLVM_ENABLE_RTTI=ON -D CMAKE_INSTALL_PREFIX=$SRC_DIR/llvm+clang/RelWithDebInfo
cd build
cmake --build . -j "$(nproc)"
cmake --install .</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_duktape"><a class="anchor" href="#_duktape"></a>Duktape</h4>
<div class="paragraph">
<p>Duktape is a JavaScript engine that is used by MrDox to parse and evaluate JavaScript code.
It provides no CMake integration scripts.
The MrDox configuration script needs direct access to the installed source files for Duktape.</p>
</div>
<div class="paragraph">
<p>The release files can be obtained from the Duktape repository:</p>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-commandline hljs" data-lang="commandline">curl -L -o "duktape-2.7.0.tar.xz" "https://github.com/svaarala/duktape/releases/download/v2.7.0/duktape-2.7.0.tar.xz"
duktape_dir="%SRC_DIR%\duktape"
mkdir "%duktape_dir%"
tar -xvf "duktape-2.7.0.tar.xz" -C "%duktape_dir%"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -L -o "duktape-2.7.0.tar.xz" "https://github.com/svaarala/duktape/releases/download/v2.7.0/duktape-2.7.0.tar.xz"
duktape_dir="$SRC_DIR/duktape"
mkdir -p "$duktape_dir"
tar -xvf "duktape-2.7.0.tar.xz" -C "$duktape_dir"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_other_dependencies"><a class="anchor" href="#_other_dependencies"></a>Other dependencies</h4>
<div class="paragraph">
<p>These other dependencies provide CMake integration scripts.
They can be obtained from <a href="https://www.vcpkg.io/">vcpkg</a> or installed manually.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>fmt &gt;= 10</p>
</li>
<li>
<p>zlib</p>
</li>
<li>
<p>libtinfo</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mrdox"><a class="anchor" href="#_mrdox"></a>MrDox</h3>
<div class="paragraph">
<p>Once the dependencies are available in <code>SRC_DIR</code>, you can download MrDox:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/cppalliance/mrdox
cd mrdox</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configure it with:</p>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/cppalliance/mrdox
cd mrdox
cmake -G "Visual Studio 17 2022" -A x64 -B bin64 -D CMAKE_PREFIX_PATH="%SRC_DIR%/llvm+clang/RelWithDebInfo" -D DUKTAPE_SOURCE_ROOT="%SRC_DIR%\duktape\duktape-2.7.0"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/cppalliance/mrdox
cd mrdox
cmake -S . -B build -D CMAKE_BUILD_TYPE=Release -D LLVM_ROOT=/path/to/llvm+clang/RelWithDebInfo -D Clang_ROOT=/path/to/llvm+clang/RelWithDebInfo -D DUKTAPE_SOURCE_ROOT="$SRC_DIR/duktape/duktape-2.7.0"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then build and install it with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd build
cmake --build . -j &lt;threads&gt;
cmake --install .</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_package_layout"><a class="anchor" href="#_package_layout"></a>Package layout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The MrDox installation directory follows the "Filesystem Hierarchy Standard" (FHS) layout:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bin</code>: the MrDox executable intended to be used by users or invoked from the command line.</p>
</li>
<li>
<p><code>share</code>: resource files installed by MrDox</p>
</li>
<li>
<p><code>doc</code>: the MrDox documentation</p>
</li>
<li>
<p><code>include</code>: the MrDox headers</p>
</li>
<li>
<p><code>lib</code>: the MrDox library</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The FHS layout provides a directory structure that also serves as a widely accepted convention for organizing files and directories in Unix-like systems, but that can be used in any operating system.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
